import{_ as h,f as _,g,h as u,c as n,a as t,F as d,r as c,o,t as l,i as p}from"./index-DVPIYTm0.js";const v={class:"statistika-container"},j={class:"quiz-title"},y={key:0,class:"quiz-table"},f={key:1,class:"no-attempts"},S={__name:"Statistika",setup(x){const k=JSON.parse(localStorage.getItem("user")||"{}"),i=_([]);return g(async()=>{try{const e=(await u.get(`http://localhost:3001/profesori/${k.id}/quiz-statistics`)).data,s=await Promise.all(e.map(async a=>{const m=await u.get(`http://localhost:3001/api/v1/quiz/${a.id}/detalji`);return{...a,pokusaji:m.data.pokusaji||[]}}));i.value=s}catch(r){console.error("Gre코ka pri dohva캖anju detaljne statistike:",r)}}),(r,e)=>(o(),n("div",v,[e[3]||(e[3]=t("h2",null,"游늵 Detaljna statistika kvizova",-1)),(o(!0),n(d,null,c(i.value,s=>(o(),n("div",{key:s.id,class:"quiz-card"},[t("h3",j,l(s.naziv)+" ("+l(s.razred)+")",1),t("p",null,[e[0]||(e[0]=t("strong",null,"Ukupno poku코aja:",-1)),p(" "+l(s.pokusaji.length),1)]),t("p",null,[e[1]||(e[1]=t("strong",null,"Prosjek to캜nosti:",-1)),p(" "+l(s.prosjek)+"%",1)]),s.pokusaji.length>0?(o(),n("table",y,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"Ime u캜enika"),t("th",null,"To캜no"),t("th",null,"Neto캜no"),t("th",null,"Datum")])],-1)),t("tbody",null,[(o(!0),n(d,null,c(s.pokusaji,a=>(o(),n("tr",{key:a.id},[t("td",null,l(a.student.ime)+" "+l(a.student.prezime),1),t("td",null,l(a.result),1),t("td",null,l(a.total-a.result),1),t("td",null,l(new Date(a.solvedAt).toLocaleDateString()),1)]))),128))])])):(o(),n("p",f,"Nema rije코enih poku코aja."))]))),128))]))}},N=h(S,[["__scopeId","data-v-6f2ac218"]]);export{N as default};
