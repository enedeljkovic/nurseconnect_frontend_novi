import{_ as S,c as d,a as t,w as j,b as i,v as m,d as _,t as l,e as k,F as y,r as f,f as v,g as z,h as r,o as u}from"./index-DVPIYTm0.js";const x={name:"AdminStudents",setup(){const c=v([]),e=v(""),s=v({ime:"",prezime:"",email:"",razred:""}),o=async()=>{try{const a=await r.get("http://localhost:3001/students");c.value=a.data}catch(a){console.error("Greška kod dohvaćanja studenata:",a)}},p=async()=>{try{s.value.id?(await r.put(`http://localhost:3001/students/${s.value.id}`,s.value),e.value="Promjene spremljene!"):(await r.post("http://localhost:3001/students",s.value),e.value="Student uspješno dodan!"),s.value={ime:"",prezime:"",email:"",razred:""},o()}catch(a){console.error("Greška kod dodavanja ili ažuriranja:",a),e.value="Greška prilikom spremanja."}},b=a=>{s.value={...a}},n=async a=>{try{await r.delete(`http://localhost:3001/students/${a}`),o()}catch(h){console.error("Greška kod brisanja:",h)}};return z(o),{studenti:c,noviStudent:s,poruka:e,dodajIliAzurirajStudenta:p,obrisiStudenta:n,urediStudenta:b}}},w={class:"container my-5"},g={class:"card shadow p-4 mb-5"},A={class:"row g-3"},C={class:"col-md-3"},I={class:"col-md-3"},U={class:"col-md-3"},V={class:"col-md-3"},B={class:"mt-3 d-flex justify-content-between align-items-center"},q={type:"submit",class:"btn btn-success"},D={class:"text-success"},G={class:"card shadow p-4"},M={class:"table table-bordered"},P=["onClick"],E=["onClick"],N={key:0,class:"text-muted text-center"};function F(c,e,s,o,p,b){return u(),d("div",w,[e[9]||(e[9]=t("h2",{class:"text-center text-primary mb-4"},"👨‍🎓 Upravljanje studentima",-1)),t("div",g,[e[6]||(e[6]=t("h4",{class:"mb-3"},"➕ Dodaj novog studenta",-1)),t("form",{onSubmit:e[4]||(e[4]=j((...n)=>o.dodajIliAzurirajStudenta&&o.dodajIliAzurirajStudenta(...n),["prevent"]))},[t("div",A,[t("div",C,[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>o.noviStudent.ime=n),type:"text",class:"form-control",placeholder:"Ime",required:""},null,512),[[m,o.noviStudent.ime]])]),t("div",I,[i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>o.noviStudent.prezime=n),type:"text",class:"form-control",placeholder:"Prezime",required:""},null,512),[[m,o.noviStudent.prezime]])]),t("div",U,[i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>o.noviStudent.email=n),type:"email",class:"form-control",placeholder:"Email",required:""},null,512),[[m,o.noviStudent.email]])]),t("div",V,[i(t("select",{"onUpdate:modelValue":e[3]||(e[3]=n=>o.noviStudent.razred=n),class:"form-select",required:""},e[5]||(e[5]=[t("option",{disabled:"",value:""},"Odaberi razred",-1),t("option",{value:"A"},"A",-1),t("option",{value:"B"},"B",-1),t("option",{value:"C"},"C",-1)]),512),[[_,o.noviStudent.razred]])])]),t("div",B,[t("button",q,l(o.noviStudent.id?"💾 Spremi promjene":"✅ Dodaj"),1),t("span",D,l(o.poruka),1)])],32)]),t("div",G,[e[8]||(e[8]=t("h4",{class:"mb-3"},"📋 Popis studenata",-1)),t("table",M,[e[7]||(e[7]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Ime"),t("th",null,"Prezime"),t("th",null,"Email"),t("th",null,"Razred"),t("th",null,"Kod"),t("th",null,"Akcija")])],-1)),t("tbody",null,[(u(!0),d(y,null,f(o.studenti,n=>(u(),d("tr",{key:n.id},[t("td",null,l(n.ime),1),t("td",null,l(n.prezime),1),t("td",null,l(n.email),1),t("td",null,l(n.razred),1),t("td",null,l(n.kod),1),t("td",null,[t("button",{class:"btn btn-primary btn-sm me-2",onClick:a=>o.urediStudenta(n)},"✏️ Uredi",8,P),t("button",{class:"btn btn-danger btn-sm",onClick:a=>o.obrisiStudenta(n.id)},"🗑️ Obriši",8,E)])]))),128))])]),o.studenti.length===0?(u(),d("p",N,"Nema dodanih studenata.")):k("",!0)])])}const K=S(x,[["render",F],["__scopeId","data-v-667378ac"]]);export{K as default};
